<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:dt="http://github.com/dandelion/datatables">
<head lang="en">
    <meta charset="UTF-8"/>
    <title>Phone list</title>
</head>
<body>
<table id="myTable" dt:table="true">
    <h1>List phones</h1>

    <div>Send messages to phones</div>
    <br/>
    <ul th:each="message : ${messages}">
        <li th:text="${message}">1</li>
    </ul>
    <br/>

    <div>
        <a th:href="@{'/addRandomPhone'}">addRandomPhone</a>
    </div>
    <br/>
    <thead>
    <tr>
        <th>api_key</th>
        <th dt:sortInitDirection="desc">name</th>
        <th>send</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="phone : ${phones}">
        <td th:text="${phone?.api_key}"></td>
        <td th:text="${phone?.nickname}"></td>
        <td><a th:href="@{'/notifyPhone'(apiKey=${phone.api_key})}">notify</a></td>
    </tr>
    </tbody>
</table>

<a th:href="@{/logout}" href="logout"> Logout </a>
</body>
</html>